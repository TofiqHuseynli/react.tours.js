$gantt-column-width: 30px;
$gantt-column-height: 50px;
$gantt-header-height: 50px;
$gantt-sidebar-width: 500px;

.gantt {
  overflow-y: auto;
  &:fullscreen {
    padding: 0;
    background-color: var(--secondary);
    .card {
      border-radius: 0;
      .btn-group .btn:last-child:after {
        content: "\e995";
      }
    }
  }
  .card {
    margin: 0;
    .row {
      width: $gantt-sidebar-width;
      margin: 0;
      .col-12 {
        padding: 0;
        .table {
          th {
            height: $gantt-header-height;
          }
          td {
            vertical-align: middle;
            height: $gantt-column-height;
            padding-bottom: 0.125rem;
            padding-top: 0.125rem;
          }
        }
      }
    }
    .chart {
      border-left: 1px solid var(--secondary);
      width: calc(100% - $gantt-sidebar-width);
      .table {
        thead th {
          padding: 0;
          span {
            width: 100%;
            min-width: $gantt-column-width;
            height: calc($gantt-header-height / 2);
            &.today {
              width: calc($gantt-header-height / 2);
              min-width: auto;
            }
            &.month {
              min-width: calc($gantt-column-width * 4);
              height: $gantt-header-height;
            }
          }
        }
        tbody {
          tr {
            position: relative;
            td {
              height: $gantt-column-height;
              border-bottom: none;
              &.today {
                position: relative;
                &::after {
                  content: "";
                  position: absolute;
                  top: -1px;
                  left: 50%;
                  transform: translateX(-50%);
                  width: 2px;
                  height: calc($gantt-column-height + 2px);
                  background-color: var(--danger);
                }
              }
            }
            div {
              position: absolute;
              z-index: 1;
              top: 50%;
              transform: translateY(-50%);
              height: 20px;
              background-color: var(--warning);
              border-radius: 10px;
              cursor: pointer;
              &.completed {
                background-color: var(--success);
              }
              &.left-cut {
                border-top-left-radius: 0px;
                border-bottom-left-radius: 0px;
              }
              &.right-cut {
                border-top-right-radius: 0px;
                border-bottom-right-radius: 0px;
              }
              &.left-gesture,
              &.right-gesture {
                &:hover {
                  &::before,
                  &::after {
                    opacity: 1;
                  }
                }
              }
              &.left-gesture::before,
              &.right-gesture::after {
                content: "";
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                width: 10px;
                height: 100%;
                opacity: 0;
                background-color: var(--black-rgb-10);
                transition: opacity 0.2s linear;
              }
              &.left-gesture::before {
                left: 0;
                border-top-left-radius: 10px;
                border-bottom-left-radius: 10px;
                cursor: w-resize;
              }
              &.right-gesture::after {
                right: 0;
                border-top-right-radius: 10px;
                border-bottom-right-radius: 10px;
                cursor: e-resize;
              }
            }
          }
        }
        .weekend {
          background-color: var(--secondary);
        }
      }
    }
    .btn-group {
      position: fixed;
      z-index: 1;
      bottom: var(--spacer);
      right: var(--spacer);
      .btn {
        &:last-child::after {
          content: "\e98e";
          font-family: "feather";
        }
        &.active {
          color: var(--primary);
        }
      }
    }
  }
}

body.dark .gantt {
  background-color: var(--dark);
  .chart {
    border-left-color: var(--dark);
    .table .weekend {
      background-color: var(--dark);
    }
  }
  .btn-group .btn.active {
    background-color: var(--dark);
    border-color: var(--dark);
  }
}

body.night .gantt {
  background-color: var(--night-dark);
  .chart {
    border-left-color: var(--night-dark);
    .table .weekend {
      background-color: var(--night-dark);
    }
  }
  .btn-group .btn.active {
    background-color: var(--night-dark);
    border-color: var(--night-dark);
  }
}

@media (max-width: 1200px) {
  .gantt {
    .btn-group {
      margin-right: 3rem;
    }
  }
}
